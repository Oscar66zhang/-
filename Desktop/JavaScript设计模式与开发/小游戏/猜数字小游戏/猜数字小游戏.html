<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çŒœæ•°å­—å°æ¸¸æˆ</title>
    <link rel="stylesheet" type="text/css" href="./æ ·å¼.css"> 
</head>
<body>
    <p>è¯·è¾“å…¥1åˆ°100ä¹‹é—´çš„æ•°å­—</p>
    <p style="color: aqua; font-size: 30px; font-weight: bolder;">è¿›å…¥æ•°å­—æ¸¸æˆ</p>
    <div id="info"></div>
    <input id="guess" type="number" placeholder="è¯·è¾“å…¥1åˆ°100ä¹‹é—´çš„æ•°å­—"/><br>
    <button id="start">çŒœæ•°å­—</button>
    <div id="again" style="display: none;">å†æ¥ä¸€å±€</div>
    <div id="show" style="cursor: default;">å†å²æˆ˜ç»©</div>
    <script>
        var num, i, ks,arr;
        var info = document.getElementById('info');
        var guess = document.getElementById('guess');
        var start = document.getElementById('start');
        var again = document.getElementById('again');
        var show = document.getElementById('show');
        
        const initNum = function() {
            num = Math.floor(Math.random() * 100) + 1; // äº§ç”Ÿ1~100ä¹‹é—´çš„æ•°å­—
            i = 0;
            again.style.display = "none";
            info.innerHTML = "";
            start.disabled = false;
            ks = new Date();
        }
        initNum();

        again.onclick = function() {
            initNum();
        }
        guess.onfocus = function() {
            guess.select();
        }
        guess.onchange = function() {
            checknum();
        }
        
        function showH() {  
    show.innerHTML = "<div>å†å²æˆ˜ç»©</div>";  
  
    if (localStorage.getItem("arr")) {  
        arr = localStorage.getItem("arr").split(",");  
        arr = arr.filter(function(item) {  
            return item.trim() !== ""; // ç§»é™¤ç©ºå­—ç¬¦ä¸²  
        });  
        var n = arr.length - 1;  
        var j = 1;  
        while (n >= 0 && j <= 6) { // å¦‚æœä½ æƒ³è¦æ˜¾ç¤ºæ‰€æœ‰å…ƒç´ ï¼Œå¯ä»¥ç§»é™¤j <= 6çš„æ¡ä»¶  
            show.innerHTML += "<div>" + arr[n] + "</div>";  
            --n;  
            ++j;  
        }  
    } else {  
        show.innerHTML += "<div>æ²¡æœ‰å†å²æˆ˜ç»©</div>";  
    }  
}  
  
document.addEventListener("DOMContentLoaded", function() {  
    show.onclick = function() {  
        showH();  
    };  
});
        
        var arr = [];
        const checknum = function() {
            var myguess = guess.value - 0;
            ++i;
            if (myguess == num) {
                info.innerHTML = "ğŸ˜€,æ­å–œæ‚¨,çŒœå¯¹äº†,å¹¸è¿æ•°å­—æ˜¯:" + num;
                var over = new Date().getTime();
                var m = Math.floor((over - ks.getTime()) / 1000);
                info.innerHTML += "<br><br>å…±è¾“å…¥" + i + "æ¬¡,ç”¨æ—¶" + m + "ç§’<br><br>Game Over";
                var t = ks.getFullYear() + "-" + (ks.getMonth() + 1) + "-" + ks.getDate() + " ";
                t += ks.getHours() + ":" + ks.getMinutes() + ":" + ks.getSeconds();
                var his = t + "å¼€å§‹-è¾“å…¥" + i + "æ¬¡-ç”¨æ—¶" + m + "ç§’";
                if (localStorage.getItem("arr")) {
                    arr = localStorage.getItem("arr").split(",");
                }
                arr.push(his);
                localStorage.setItem("arr", arr.join(","));
                again.style.display = "block";
                return;
            }
            if (myguess < num) {
                info.innerHTML = "ğŸ˜€,ç¬¬" + i + "æ¬¡è¾“å…¥,æ‚¨çŒœçš„æ•°å­—" + myguess + "æœ‰ç‚¹å°";
            } else {
                info.innerHTML = "ğŸ˜€,ç¬¬" + i + "æ¬¡è¾“å…¥,æ‚¨çŒœçš„æ•°å­—" + myguess + "æœ‰ç‚¹å¤§";
            }
            if (i >= 10) {
                info.innerHTML += "æ‚¨å·²ç»æ²¡æœ‰æœºä¼šäº†,çœŸé—æ†¾!";
                start.disabled = true;
                again.style.display = "block";
            }
        }
        
        // æ·»åŠ çŒœæ•°å­—æŒ‰é’®ç‚¹å‡»äº‹ä»¶å¤„ç†ç¨‹åº
        start.onclick = function() {
            checknum();
        }
    </script>
</body>
</html>